!function(){var e,t=function(e){var t;this.element=e,this.form=this.element.getElementsByClassName("js-adv-filter__form"),this.resultsList=this.element.getElementsByClassName("js-adv-filter__gallery")[0],this.resultsCount=this.element.getElementsByClassName("js-adv-filter__results-count"),t=this,t.form.length>0&&(t.form[0].addEventListener("reset",function(e){setTimeout(function(){var e;(function e(t){var n=t.element.getElementsByClassName("js-select");if(n.length>0)for(var r=0;r<n.length;r++)n[r].dispatchEvent(new CustomEvent("select-updated"));var l=t.element.getElementsByClassName("js-slider");if(l.length>0)for(var r=0;r<l.length;r++)l[r].dispatchEvent(new CustomEvent("slider-updated"))})(t),(e=t).form[0].dispatchEvent(new CustomEvent("change")),e.resultsList.dispatchEvent(new CustomEvent("update-filter-results"))})}),t.form[0].addEventListener("change",function(e){var r=e.target.closest(".js-adv-filter__item");if(r)n(t,r);else if(e.target.classList.contains("js-adv-filter__form"))for(var l=t.form[0].getElementsByClassName("js-adv-filter__item"),a=0;a<l.length;a++)n(t,l[a])})),t.resultsCount.length>0&&t.resultsList.addEventListener("filter-selection-updated",function(e){(function e(t){for(var n=t.resultsList.children,r=0,a=0;a<n.length;a++)l(n[a])&&(r+=1);t.resultsCount[0].textContent=r})(t)})};function n(e,t){var n=t.getElementsByClassName("js-adv-filter__selection");if(0!=n.length){var l=t.getElementsByTagName("select");if(l.length>0){n[0].textContent=function e(t,n){if(!n.multiple)return n.options[n.selectedIndex].text;for(var r="",l=0,a=0;a<n.options.length;a++)n.options[a].selected&&(r=r+""+n.options[a].text,l+=1),l>1&&(r=t.getAttribute("data-multi-select-text").replace("{n}",l));return r}(t,l[0]);return}var a=t.querySelectorAll('input[type="number"]');if(a.length>0){n[0].textContent=function e(t,n){for(var r=0,l=0;l<n.length;l++)n[l].value!=n[l].min&&(r+=1);return n.length>1?r>0?t.getAttribute("data-multi-select-text").replace("{n}",r):t.getAttribute("data-default-text"):n[0].value==n[0].min?t.getAttribute("data-default-text"):t.getAttribute("data-number-format").replace("{n}",n[0].value)}(t,a);return}var s=t.querySelectorAll('input[type="range"]');if(s.length>0){n[0].textContent=function e(t,n){for(var r="",l=t.getAttribute("data-number-format"),a=0;a<n.length;a++)0!=a&&(r+=" - "),r+=l.replace("{n}",n[a].value);return r}(t,s);return}var i=t.querySelectorAll('input[type="radio"]'),u=t.querySelectorAll('input[type="checkbox"]');if(i.length>0){n[0].textContent=r(t,i);return}if(u.length>0){n[0].textContent=r(t,u);return}}}function r(e,t){var n=0;label="";for(var r=0;r<t.length;r++)if(t[r].checked){var l=t[r].parentNode.getElementsByTagName("label");l.length>0&&(label=l[0].textContent),n+=1}return n>1?e.getAttribute("data-multi-select-text").replace("{n}",n):0==n?e.getAttribute("data-default-text"):label}function l(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length}var a=document.getElementsByClassName("js-adv-filter");if(a.length>0)for(var s=0;s<a.length;s++)e=s,new t(a[e]);var i=document.getElementById("adv-filter-gallery");i&&new Filter({element:i,priceRange:function(e){for(var t=[],n=document.getElementById("slider-min-value").value,r=document.getElementById("slider-max-value").value,l=0;l<e.length;l++){var a=parseInt(e[l].getAttribute("data-price"));t[l]=a>=n&&a<=r}return t},indexValue:function(e){for(var t=[],n=document.getElementById("index-value").value,r=0;r<e.length;r++){var l=parseInt(e[r].getAttribute("data-sort-index"));t[r]=l>=n}return t},searchInput:function(e){for(var t=[],n=document.getElementById("search-products").value,r=0;r<e.length;r++){var l=e[r].getAttribute("data-search");t[r]=""==l||l.toLowerCase().indexOf(n.toLowerCase())>-1}return t}})}();
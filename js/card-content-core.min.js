if(!Util)function Util(){}Util.hasClass=function(t,e){return t.classList.contains(e)},Util.addClass=function(t,e){var i=e.split(" ");t.classList.add(i[0]),i.length>1&&Util.addClass(t,i.slice(1).join(" "))},Util.removeClass=function(t,e){var i=e.split(" ");t.classList.remove(i[0]),i.length>1&&Util.removeClass(t,i.slice(1).join(" "))},Util.toggleClass=function(t,e,i){i?Util.addClass(t,e):Util.removeClass(t,e)},Util.extend=function(){var t={},e=!1,i=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);for(var s=function(i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e&&"[object Object]"===Object.prototype.toString.call(i[r])?t[r]=extend(!0,t[r],i[r]):t[r]=i[r])};i<r;i++){s(arguments[i])}return t},Util.osHasReducedMotion=function(){if(!window.matchMedia)return!1;var t=window.matchMedia("(prefers-reduced-motion: reduce)");return!!t&&t.matches},function(){var t=function(n){this.options=Util.extend(t.defaults,n),this.element=this.options.element,this.elementId=this.element.getAttribute("id"),this.items=this.element.querySelectorAll(".js-filter__item"),this.controllers=document.querySelectorAll('[aria-controls="'+this.elementId+'"]'),this.fallbackMessage=document.querySelector('[data-fallback-gallery-id="'+this.elementId+'"]'),this.filterString=[],this.sortingString="",this.filterList=[],this.sortingList=[],this.itemsGrid=[],this.itemsInitPosition=[],this.itemsIterPosition=[],this.itemsFinalPosition=[],this.animateOff="off"==this.element.getAttribute("data-filter-animation"),this.resizingId=!1,this.accelerateStyle="will-change: transform, opacity; transform: translateZ(0); backface-visibility: hidden;",this.animating=!1,this.reanimate=!1,function(t){a(t,!0,!0),c(t),function(t){for(var e=0;e<t.items.length;e++)t.items[e].setAttribute("data-init-sort-order",e)}(t);for(var n=0;n<t.controllers.length;n++)t.filterString[n]="",function(e){t.controllers[e].addEventListener("change",(function(s){"select"==s.target.tagName.toLowerCase()?s.target.getAttribute("data-filter")?r(t,e,"select"):i(t,s.target.value,s.target.options[s.target.selectedIndex]):"input"!=s.target.tagName.toLowerCase()||"radio"!=s.target.getAttribute("type")&&"checkbox"!=s.target.getAttribute("type")?t.controllers[e].getAttribute("data-filter")?r(t,e,"custom"):i(t,t.controllers[e].getAttribute("data-sort"),t.controllers[e]):s.target.getAttribute("data-filter")?r(t,e,"input"):i(t,s.target.getAttribute("data-sort"),s.target),o(t)})),t.controllers[e].addEventListener("click",(function(n){var l=n.target.closest("[data-filter]"),a=n.target.closest("[data-sort]");(l||a)&&(!l||"input"!=l.tagName.toLowerCase()&&"select"!=l.tagName.toLowerCase())&&(!a||"input"!=a.tagName.toLowerCase()&&"select"!=a.tagName.toLowerCase())&&(a&&Util.hasClass(a,"js-filter__custom-control")||l&&Util.hasClass(l,"js-filter__custom-control")||(n.preventDefault(),s(t,e,l,a),a?i(t,a.getAttribute("data-sort"),a):r(t,e,"button"),o(t)))})),t.controllers[e].addEventListener("input",(function(i){"input"!=i.target.tagName.toLowerCase()||"search"!=i.target.getAttribute("type")&&"text"!=i.target.getAttribute("type")||(r(t,e,"custom"),o(t))}))}(n);window.addEventListener("resize",(function(){clearTimeout(t.resizingId),t.resizingId=setTimeout((function(){c(t)}),300)})),e(t),t.element.addEventListener("update-filter-results",(function(i){for(var r=0;r<t.controllers.length;r++)t.filterString[r]="";t.sortingString="",e(t)}))}(this)};function e(t){for(var e=0;e<t.controllers.length;e++){var s=t.controllers[e].getElementsByClassName("js-filter-selected");if(s.length>0){(d=s[0].getAttribute("data-sort"))?i(t,s[0].getAttribute("data-sort"),s[0]):r(t,e,"button")}else{var n=t.controllers[e].querySelectorAll("input:checked");if(n.length>0)(d=n[0].getAttribute("data-sort"))?i(t,d,n[0]):r(t,e,"input");else if("select"!=t.controllers[e].tagName.toLowerCase()){var l=t.controllers[e].querySelector('input[type="radio"]'),a=t.controllers[e].querySelector('input[type="checkbox"]');if(!l&&!a){d=t.controllers[e].getAttribute("data-sort");var c=t.controllers[e].getAttribute("data-filter");d?i(t,d,t.controllers[e]):c&&r(t,e,"custom")}}else{var d;(d=t.controllers[e].getAttribute("data-sort"))?i(t,t.controllers[e].value,t.controllers[e].options[t.controllers[e].selectedIndex]):r(t,e,"select")}}}o(t)}function i(t,e,i){var r=i.getAttribute("data-sort-order")?"desc":"asc",s=i.getAttribute("data-sort-number")?"number":"string";t.sortingString=e+":"+r+":"+s}function r(t,e,i){if("input"==i){var r=t.controllers[e].querySelectorAll("input:checked");t.filterString[e]="";for(var s=0;s<r.length;s++)t.filterString[e]=t.filterString[e]+r[s].getAttribute("data-filter")+":"}else if("select"==i)t.controllers[e].multiple?t.filterString[e]=function(t){for(var e=t.options,i="",r=0;r<e.length;r++)e[r].selected&&(""!=i&&(i+=":"),i+=e[r].value);return i}(t.controllers[e]):t.filterString[e]=t.controllers[e].value;else if("button"==i){var o=t.controllers[e].querySelectorAll(".js-filter-selected");t.filterString[e]="";for(s=0;s<o.length;s++)t.filterString[e]=t.filterString[e]+o[s].getAttribute("data-filter")+":"}else"custom"==i&&(t.filterString[e]=t.controllers[e].getAttribute("data-filter"))}function s(t,e,i,r){var s=t.controllers[e].getAttribute("data-filter-checkbox"),o=t.controllers[e].getAttribute("data-selected-class");if(o=o?"js-filter-selected "+o:"js-filter-selected","true"==s)i?Util.toggleClass(i,o,!Util.hasClass(i,"js-filter-selected")):Util.toggleClass(r,o,!Util.hasClass(r,"js-filter-selected"));else{var n=t.controllers[e].querySelector(".js-filter-selected");n&&Util.removeClass(n,o),i?Util.addClass(i,o):Util.addClass(r,o)}}function o(t){t.animating?t.reanimate=!0:(t.animating=!0,t.reanimate=!1,c(t),function(t){var e=t.sortingString.split(":");""==e[0]||"*"==e[0]?function(t){for(var e=0;e<t.items.length;e++)t.sortingList[parseInt(t.items[e].getAttribute("data-init-sort-order"))]=[t.items[e],e]}(t):t.options[e[0]]?t.sortingList=t.options[e[0]](t.sortingList):t.sortingList.sort((function(t,i){var r=t[0].getAttribute("data-sort-"+e[0]),s=i[0].getAttribute("data-sort-"+e[0]);return"number"==e[2]&&(r=parseFloat(r),s=parseFloat(s)),"desc"==e[1]?r<=s?1:-1:r>=s?1:-1}))}(t),function(t){a(t,!0,!1);for(var e=0;e<t.filterString.length;e++)""!=t.filterString[e]&&"*"!=t.filterString[e]&&" "!=t.filterString[e]&&n(t,t.filterString[e].split(":"))}(t),f(t,!0),p||t.animateOff?l(t):function(t){d(t,t.itemsInitPosition),t.element.setAttribute("style","height: "+parseFloat(t.element.offsetHeight)+"px; width: "+parseFloat(t.element.offsetWidth)+"px;");for(var e=0;e<t.items.length;e++)Util.hasClass(t.items[e],"filter-item-hide")&&t.filterList[e]&&(t.items[e].setAttribute("data-scale","on"),t.items[e].setAttribute("style",t.accelerateStyle+"transform: scale(0.5); opacity: 0;"),Util.removeClass(t.items[e],"filter-item-hide"));d(t,t.itemsIterPosition);for(e=0;e<t.items.length;e++)"on"!=t.items[e].getAttribute("data-scale")&&t.items[e].setAttribute("style",t.accelerateStyle+"transform: translateX("+parseInt(t.itemsInitPosition[e][0]-t.itemsIterPosition[e][0])+"px) translateY("+parseInt(t.itemsInitPosition[e][1]-t.itemsIterPosition[e][1])+"px);");!function(t){for(var e="transform "+t.options.duration+"ms cubic-bezier(0.455, 0.03, 0.515, 0.955), opacity "+t.options.duration+"ms",i=0,r=0;r<t.sortingList.length;r++){var s=t.items[t.sortingList[r][1]];Util.hasClass(s,"filter-item-hide")||!t.filterList[t.sortingList[r][1]]?(t.itemsFinalPosition[t.sortingList[r][1]]=t.itemsIterPosition[t.sortingList[r][1]],"on"==s.getAttribute("data-scale")&&(i+=1)):(t.itemsFinalPosition[t.sortingList[r][1]]=[t.itemsGrid[i][0],t.itemsGrid[i][1]],i+=1)}setTimeout((function(){for(var i=0;i<t.items.length;i++)t.filterList[i]&&"on"==t.items[i].getAttribute("data-scale")?t.items[i].setAttribute("style",t.accelerateStyle+"transition: "+e+"; transform: translateX("+parseInt(t.itemsFinalPosition[i][0]-t.itemsIterPosition[i][0])+"px) translateY("+parseInt(t.itemsFinalPosition[i][1]-t.itemsIterPosition[i][1])+"px) scale(1); opacity: 1;"):t.filterList[i]?t.items[i].setAttribute("style",t.accelerateStyle+"transition: "+e+"; transform: translateX("+parseInt(t.itemsFinalPosition[i][0]-t.itemsIterPosition[i][0])+"px) translateY("+parseInt(t.itemsFinalPosition[i][1]-t.itemsIterPosition[i][1])+"px);"):t.items[i].setAttribute("style",t.accelerateStyle+"transition: "+e+"; transform: scale(0.5); opacity: 0;")}),50),setTimeout((function(){l(t)}),t.options.duration+100)}(t)}(t))}function n(t,e){if(e&&""!=e&&"*"!=e){for(var i=[],r=0;r<e.length;r++)t.options[e[r]]&&(i[e[r]]=t.options[e[r]](t.items));for(var s=0;s<t.items.length;s++){var o=t.items[s].getAttribute("data-filter").split(" "),n=!1;for(r=0;r<e.length;r++){if(t.options[e[r]]&&i[e[r]][s]){n=!0;break}if("*"==e[r]||o.indexOf(e[r])>-1){n=!0;break}}t.filterList[s]=!!n&&t.filterList[s]}}}function l(t){for(var e=0;e<t.items.length;e++)t.items[e].removeAttribute("style"),Util.toggleClass(t.items[e],"filter-item-hide",!t.filterList[e]),t.items[e].removeAttribute("data-scale");for(e=0;e<t.items.length;e++)t.element.appendChild(t.items[t.sortingList[e][1]]);t.items=[],t.items=t.element.querySelectorAll(".js-filter__item"),a(t,!1,!0),t.element.removeAttribute("style"),t.animating=!1,t.reanimate&&o(t),f(t,!1),t.element.dispatchEvent(new CustomEvent("filter-selection-updated"))}function a(t,e,i){for(var r=0;r<t.items.length;r++)e&&(t.filterList[r]=!0),i&&(t.sortingList[r]=[t.items[r],r])}function c(t){for(var e,i,r,s,o,n=parseFloat(window.getComputedStyle(t.element).getPropertyValue("width")),l=0;l<t.items.length;l++)if(!Util.hasClass(t.items[l],"filter-item-hide")){if(e=window.getComputedStyle(t.items[l]),i=parseFloat(e.getPropertyValue("width")),r=parseFloat(e.getPropertyValue("height")),s=parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right")),o=parseFloat(e.getPropertyValue("margin-bottom"))+parseFloat(e.getPropertyValue("margin-top")),0==s&&0==o){var a=u(t);s=a[0],o=a[1]}var c=parseInt((n+s)/(i+s));t.itemsGrid[0]=[t.items[l].offsetLeft,t.items[l].offsetTop];break}for(l=1;l<t.items.length;l++){var d=l<c?l:l%c,f=l<c?0:Math.floor(l/c);t.itemsGrid[l]=[t.itemsGrid[0][0]+d*(i+s),t.itemsGrid[0][1]+f*(r+o)]}}function d(t,e){for(var i=0;i<t.items.length;i++)e[i]=[t.items[i].offsetLeft,t.items[i].offsetTop]}function f(t,e){if(t.fallbackMessage){for(var i=!0,r=0;r<t.filterList.length;r++)if(t.filterList[r]){i=!1;break}e?i||Util.addClass(t.fallbackMessage,"filter-item-hide"):Util.toggleClass(t.fallbackMessage,"filter-item-hide",!i)}}function u(t){var e,i=getComputedStyle(t.element).getPropertyValue("--gap-x"),r=getComputedStyle(t.element).getPropertyValue("--gap-y"),s=getComputedStyle(t.element).getPropertyValue("--gap"),o=document.createElement("div"),n="position: absolute; opacity: 0; width: 0px; height: 0px";i&&r?n="position: absolute; opacity: 0; width: "+i+"; height: "+r:s?n="position: absolute; opacity: 0; width: "+s+"; height: "+s:i?n="position: absolute; opacity: 0; width: "+i+"; height: 0px":r?n="position: absolute; opacity: 0; width: 0px; height: "+r:(i=m(t,"columns",t.element.offsetWidth),r=m(t,"rows",t.element.offsetHeight),isNaN(r)&&(r=i),n="position: absolute; opacity: 0; width: "+i+"; height: "+r),o.style.cssText=n,t.element.appendChild(o);var l=o.getBoundingClientRect();return e=[l.width,l.height],t.element.removeChild(o),e}function m(t,e,i){var r=getComputedStyle(t.element).getPropertyValue("grid-template-"+e).split(" ");return(i-parseFloat(r[0])*r.length)/(r.length-1)+"px"}t.defaults={element:!1,duration:400},window.Filter=t;var g=document.getElementsByClassName("js-filter"),p=Util.osHasReducedMotion();if(g.length>0)for(var h=0;h<g.length;h++){var v=g[h].getAttribute("data-filter-duration");v||(v=t.defaults.duration),new t({element:g[h],duration:v})}}(),function(){var t,e,i=document.body,r=window.document.documentElement,s=Modernizr.csstransitions,o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],n=function(t,e){var i=function(t){if(s){if(t.target!=this)return;this.removeEventListener(o,i)}e&&"function"==typeof e&&e.call(this)};s?t.addEventListener(o,i):i()},l=document.getElementById("theGrid"),a=document.getElementById("theSidebar"),c=l.querySelector("section.grid"),d=l.querySelector("section.content"),f=c.querySelectorAll(".grid__item"),u=d.querySelectorAll(".content__item"),m=d.querySelector(".close-button"),g=-1,p=!1,h=!1,v=document.getElementById("menu-toggle"),b=a.querySelector(".close-button");function y(t){var e,i;return"x"===t?(e=r.clientWidth,i=window.innerWidth):"y"===t&&(e=r.clientHeight,i=window.innerHeight),e<i?i:e}function w(){return window.pageYOffset||r.scrollTop}function L(){var t=f[g],e=u[g];classie.remove(e,"content__item--show"),classie.remove(d,"content--show"),classie.remove(m,"close-button--show"),classie.remove(i,"view-single"),setTimeout((function(){var r=c.querySelector(".placeholder");classie.removeClass(i,"noscroll"),r.style.WebkitTransform="translate3d("+t.offsetLeft+"px, "+t.offsetTop+"px, 0px) scale3d("+t.offsetWidth/c.offsetWidth+","+t.offsetHeight/y("y")+",1)",r.style.transform="translate3d("+t.offsetLeft+"px, "+t.offsetTop+"px, 0px) scale3d("+t.offsetWidth/c.offsetWidth+","+t.offsetHeight/y("y")+",1)",n(r,(function(){e.parentNode.scrollTop=0,c.removeChild(r),classie.remove(t,"grid__item--loading"),classie.remove(t,"grid__item--animate"),p=!1,window.removeEventListener("scroll",S)})),g=-1}),25)}function S(){p||(p=!0,t=window.pageXOffset||r.scrollLeft,e=w()),window.scrollTo(t,e)}[].slice.call(f).forEach((function(t,e){t.addEventListener("click",(function(r){if(r.preventDefault(),h||g===e)return!1;h=!0,g=e,classie.add(t,"grid__item--loading"),setTimeout((function(){classie.add(t,"grid__item--animate"),setTimeout((function(){!function(t){var e=document.createElement("div");e.className="placeholder",e.style.WebkitTransform="translate3d("+(t.offsetLeft-5)+"px, "+(t.offsetTop-5)+"px, 0px) scale3d("+t.offsetWidth/c.offsetWidth+","+t.offsetHeight/y("y")+",1)",e.style.transform="translate3d("+(t.offsetLeft-5)+"px, "+(t.offsetTop-5)+"px, 0px) scale3d("+t.offsetWidth/c.offsetWidth+","+t.offsetHeight/y("y")+",1)",classie.add(e,"placeholder--trans-in"),c.appendChild(e),classie.add(i,"view-single"),setTimeout((function(){e.style.WebkitTransform="translate3d(-5px, "+(w()-5)+"px, 0px)",e.style.transform="translate3d(-5px, "+(w()-5)+"px, 0px)",window.addEventListener("scroll",S)}),25),n(e,(function(){classie.remove(e,"placeholder--trans-in"),classie.add(e,"placeholder--trans-out"),d.style.top=w()+"px",classie.add(d,"content--show"),classie.add(u[g],"content__item--show"),classie.add(m,"close-button--show"),classie.addClass(i,"noscroll"),h=!1}))}(t)}),150)}),150)}))})),m.addEventListener("click",(function(){L()})),document.addEventListener("keydown",(function(t){h||-1===g||27===(t.keyCode||t.which)&&(t.preventDefault(),"activeElement"in document&&document.activeElement.blur(),L())})),v.addEventListener("click",(function(){classie.has(a,"sidebar--open")||classie.add(a,"sidebar--open")})),b.addEventListener("click",(function(){classie.has(a,"sidebar--open")&&classie.remove(a,"sidebar--open")}))}();
var articlesWrapper=$(".cd-articles");if(articlesWrapper.length>0){var e=$(".scroll-wrap"),r=$(window).height(),t=articlesWrapper.find("article"),a=$(".cd-read-more"),i=a.find("li"),c=!1,o=!1,s=!1,l=checkMQ(),n=parseInt(Math.PI*(2*i.eq(0).find("circle").attr("r")));"desktop"==l&&(e.on("scroll",checkRead),e.on("scroll",checkSidebar)),e.on("resize",resetScroll),updateArticle(),updateSidebarPosition(),a.on("click","a",function(r){r.preventDefault();var a=t.eq($(this).parent("li").index()).offset().top;e.off("scroll",checkRead),e.animate({scrollTop:a+2},300,function(){checkRead(),e.on("scroll",checkRead)})})}function checkRead(){c||(c=!0,window.requestAnimationFrame?window.requestAnimationFrame(updateArticle):setTimeout(updateArticle,300))}function checkSidebar(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(updateSidebarPosition):setTimeout(updateSidebarPosition,300))}function resetScroll(){s||(s=!0,window.requestAnimationFrame?window.requestAnimationFrame(updateParams):setTimeout(updateParams,300))}function updateParams(){r=e.height(),l=checkMQ(),e.off("scroll",checkRead),e.off("scroll",checkSidebar),"desktop"==l&&(e.on("scroll",checkRead),e.on("scroll",checkSidebar)),s=!1}var articleTops=[];function updateArticle(){var a=e.scrollTop();articleTops&&0!==articleTops.length&&(t.each(function(e){var t=$(this),c=articleTops[e],o=t.outerHeight(),s=i.eq(t.index()).children("a");if(t.is(":last-of-type")&&(o-=r/2),c>a)s.removeClass("read reading");else if(a>=c&&c+o>a){var l=n*(1-(a-c)/o);s.addClass("reading").removeClass("read").find("circle").attr({"stroke-dashoffset":l})}else s.removeClass("reading").addClass("read")}),c=!1)}function updateSidebarPosition(){var r=Math.max(0,articlesWrapper.offset().top-e.offset().top),t=(articlesWrapper.outerHeight(),e.scrollTop());t<r?a.removeClass("fixed").attr("style",""):t>=0?a.addClass("fixed").attr("style",""):a.removeClass("fixed").attr("style",""),o=!1}function checkMQ(){return window.getComputedStyle(articlesWrapper.get(0),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}$(".grid__item").click(function(){setTimeout(()=>{t.length>0&&t.each(function(){var r=Math.max(0,$(this).offset().top-e.offset().top);articleTops.push(r)})},500)});